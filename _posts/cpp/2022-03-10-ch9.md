---
title: "[Assembly] 1-9. 제어문"
excerpt: "제어문에 대해 알아본다."

categories:
  - cpp
tags:
  - [cmp, jmp, jxx]

toc: true
toc_sticky: true

date: 2022-03-10
last_modified_at: 2022-03-10
---

## cmp, jxx
조건에 따라 코드 흐름을 제어하는 것이다.
* 키보드에서 W단축키를 눌렀는가? => 앞으로 이동
* 마우스로 저장 버튼을 눌렀는가? => 파일을 저장

주어진 조건을 만족하는 여부에 따라 뒤의 행동을 결정할 수 있다.

SASM에서는 다음과 같은 형식으로 값을 비교해 조건을 정의할 수 있다.
`CMP dst, src`
비교 후 참인지 거짓인지 결과값은 Flag Register에 저장된다.

만약 조건을 만족하면 A코드로, 그렇지 않으면 B코드로 점프하도록 흐름을 제어할 수 있다.
이 때 사용하는 키워드의 몇 가지 예시로 다음과 같다.
* `JMP [label]` : 조건의 만족 여부에 상관없이 label로 이동한다.
* `JE [label]` : `JumpEquals`. 같으면 점프한다
* `JNE [label]` : `JumpNotEquals` 다르면 점프한다
* `JG [label]` : `JumpGreater` 크면 점프한다
label은 사용자가 보기 좋게 사용하는 것이다.
... 이 외에도 여러가지가 있다.

```nasm
    ; 두 숫자가 같으면 1, 아니면 0을 출력하는 프로그램
    mov rax, 10
    mov rbx, 20

    cmp rax, rbx    ; 비교후 결과값은 flag register 저장되어 있음
    je LABEL_EQUAL

    ; je에 의해 점프를 안했다면, 같지 않다는 의미
    mov rcx, 0

LABEL_EQUAL:
    mov rcx, 1
LABEL_EQUAL_END:
    PRINT_HEX 1, rcx
    NEWLINE

    
```

cmp에 따른 flag의 변화, jump에 대한 자세한 내용은 아래 링크를 참고하면 좋다.
https://jbwyatt.com/253/web/cmpjxx.htm

