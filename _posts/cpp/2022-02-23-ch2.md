---
title: "[Assembly] 1-2. 프로그램의 실행 과정"
excerpt: "프로그램이 어떤 과정으로 실행되는지 살펴본다."

categories:
  - cpp
tags:
  - [os]

toc: true
toc_sticky: true

date: 2022-02-23
last_modified_at: 2022-02-23
---

## 프로그램의 실행 과정
![cs01](https://user-images.githubusercontent.com/54501928/155409512-89038abc-a2a9-4d3c-807c-f8492708d67b.png)

위는 컴퓨터 구조의 핵심으로 크게 `하드 디스크`, `메인 메모리(RAM이라고도 부른다)`, `CPU`가 존재한다.

예를 들어 우리가 스타크래프트 라는 게임을 실행해본다고 가정하자. 실행하기 전에 스타크래프트는 당연히 설치가 되어 있어야 한다.

만약 설치가 되었다면 `하드 디스크`에는 스타크래프트 게임파일이 존재할 것이다. 해당 게임파일을 바탕화면에서 더블클릭하면 게임이 실행되면서 컴퓨터 내부에서는 `메인 메모리`라는 곳에 스타크래프트 에 대한 정보들이 올라가게 된다. 이 후 `CPU`는 메인 메모리에 있는 정보들을 토대로, 실시간으로 게임이 동작하는데 필요한 명령어들을 하나씩 수행한다.

정리하면 아래와 같다.

* `하드 디스크` : 컴퓨터에 설치한 모든 것들이 여기에 저장되어 있다. 컴퓨터 전원을 꺼도 정보가 날라가지 않지만 대신 속도가 느린 편이다.

* `메인 메모리(RAM)` : 실행하고 있는 프로그램들이 여기에 올라온다. 프로그램을 종료하면 메인 메모리에서 내려가며, 컴퓨터 전원을 끄면 당연히 모든 정보들이 사라진다. 하드디스크보다는 속도가 빠르다.

* `CPU` : 버스(Bus)라는 다른 부품들과 연결된 다리를 통해 메인 메모리로부터 명령어들을 CPU로 가져온 뒤 이 명령어들을 하나씩 수행한다. 좀 더 구체적으로 말하면 메인 메모리에서 가져온 명령어를 `레지스터(Register)`에 하나씩 저장하고 `ALU(Arithmetic Logic Unit)`이라는 곳에서 레지스터의 명령어들을 하나씩 꺼내 명령어를 수행한다. 실행하기 전에 당연히 명령어의 의미를 해석할 필요가 있는데 이는 `컨트롤 유닛(Control Unit)`에서 수행한다.

## 하드 디스크와 메인 메모리
![cs02](https://user-images.githubusercontent.com/54501928/155413236-56fc2e6e-76f3-4ea9-a0a3-b3033061fd9e.png)

사진에서 왼쪽 [ File ] 이 `하드 디스크`에 존재하는 파일의 형태이고, 오른쪽 [ Memory ] 가 파일이 실행됐을 때 `메인 메모리(RAM)`에 올라간 상태의 구조이다. 섹션이 크게 `text` 영역, `data` 영역, `rsrc` 영역으로 나뉘어져 있음을 알 수 있다. 사진에서는 둘 다 비슷해보이지만 메인 메모리에서는 좀 더 세부적으로 살펴보면 아래와 같은 구조로 되어있다.

![cs03](https://user-images.githubusercontent.com/54501928/155413797-1a62a429-c9d5-4ac1-afca-00dfc31522ed.png)

대충 이런 구조가 있다는 것만 알고 우선은 넘어가도 문제가 없다.